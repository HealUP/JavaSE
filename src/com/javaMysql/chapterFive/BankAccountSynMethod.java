package com.javaMysql.chapterFive;

//???????
//???????????
public class BankAccountSynMethod {
	// ???????
	private String bankNo;
	// ???????
	private double balance;

	// ??????
	public BankAccountSynMethod(String bankNo, double balance) {
		this.bankNo = bankNo;
		this.balance = balance;
	}

	// ???????,????????
	public synchronized void access(double money) {

		// ???????????money<0,???????????,???§Ø??????????????????
		if (money < 0 && balance < -money) {
			System.out.println(Thread.currentThread().getName() + "?????????????");
			// ????
			return;
		} else {
			// ??????????§Ó???
			balance += money;
			System.out.println(Thread.currentThread().getName()
					+ "????????????????????" + balance);
			try {
				// ????1????
				Thread.sleep(1);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		}
	}

	// getter/setter????
	public String getBankNo() {
		return bankNo;
	}

	public void setBankNo(String bankNo) {
		this.bankNo = bankNo;
	}

	public double getBalance() {
		return balance;
	}

	public void setBalance(double balance) {
		this.balance = balance;
	}
}
